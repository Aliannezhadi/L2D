# ๐ฆ L2D โ ููฺฉ ุจู ุฏุงูููุฏ  
๐ ุฒุจุงูโูุง: [English](README.md) | [ูุงุฑุณ](README-FA.md)

**L2D** ฺฉ ุงุณฺฉุฑูพุช PHP ุงูู ู ุณุจฺฉ ุงุณุช ฺฉู ุงูฺฉุงู ุฏุงูููุฏ ูุงู ุงุฒ ุทุฑู ููฺฉ ู ุฐุฎุฑู ุขู ุฏุฑ ฺฉ ูุณุฑ ูุดุฎุต ุฑู ุณุฑูุฑ ุฑุง ูุฑุงูู ูโฺฉูุฏ.  
ุงู ุงุจุฒุงุฑ ุจุฑุง **ุงุชููุงุณููุ ฺฉุฑููโุฌุงุจุ ุณุฑูุฑูุง ู ุฏุงูููุฏูุง ุจฺฉโุงูุฏ** ุนุงู ุงุณุช.

---

## ๐ ูฺฺฏโูุง
- โ ุฏุงูููุฏ ุงูู ุจุง ุงุนุชุจุงุฑุณูุฌ URL  
- โ ุฌููฺฏุฑ ุงุฒ Path Traversal  
- โ ูุญุฏูุฏุช ุญุฌู ูุงู  
- โ ูุฏุฑุช ุฎุทุง  
- โ ุชูฺฉู ุงููุช ุจุฑุง ุญูุงุธุช  
- โ ุณุงุฒฺฏุงุฑ ุจุง **ูุฑูุฑฺฏุฑ** ู **CLI**  
- โ ุณุณุชู ูุงฺฏโููุณ  
- โ ุงูฺฉุงู ูุญุฏูุฏ ฺฉุฑุฏู ูุงุณุชโูุง  
- โ ุฏุงูููุฏ ุจุง cURL ู SSL  

---

## ๐ ุณุงุฎุชุงุฑ ูพูุดูโูุง

```
/
โโโ downloads/              # ูุงูโูุง ุฏุงูููุฏ ุดุฏู
โโโ l2d.log                 # ูุงู ูุงฺฏ
โโโ secure_downloader.php   # ุงุณฺฉุฑูพุช ุงุตู
```

---

## ๐ง ุชูุธูุงุช ุงููู

ุฏุฑ ูุงู `secure_downloader.php` ูุงุจู ุชุบุฑ ุงุณุช:

```php
const DOWNLOAD_DIR = __DIR__ . '/downloads';
const MAX_FILE_SIZE_BYTES = 50 * 1024 * 1024;
const SECURITY_TOKEN = 'CHANGE_ME_TO_A_LONG_RANDOM_TOKEN';
const ENABLE_LOGGING = true;
```

โ๏ธ **ุญุชูุงู ููุฏุงุฑ SECURITY_TOKEN ุฑุง ุชุบุฑ ุฏูุฏ.**

ุณุงุฎุช ุชูฺฉู ูู:

```bash
openssl rand -hex 32
```

---

# ๐ ุงููุช ุชูฺฉู

## 1๏ธโฃ ุงุณุชูุงุฏู ุฏุฑ ูุฑูุฑฺฏุฑ
```
secure_downloader.php?url=https://example.com/file.zip&token=YOUR_TOKEN
```

## 2๏ธโฃ ุงุณุชูุงุฏู ุฏุฑ CLI (ุงููโุชุฑ)
```
L2D_TOKEN=YOUR_TOKEN php secure_downloader.php "https://example.com/file.zip"
```

---

# ๐ ุฑูุด ุงุณุชูุงุฏู

### ูุฑูุฑฺฏุฑ:
```
?url=YOUR_URL&token=YOUR_TOKEN
```

### ุฎุท ูุฑูุงู:
```
L2D_TOKEN=YOUR_TOKEN php secure_downloader.php "URL"
```

---

# ๐ ุณุณุชู ูุงฺฏ

ุงฺฏุฑ ูุนุงู ุจุงุดุฏุ ูุงฺฏโูุง ุฏุฑ:

```
l2d.log
```

ุฐุฎุฑู ูโุดููุฏ.

ููููู:

```
[2025-02-01 11:23:54] [OK] [CLI] URL="https://example.com/file.zip" EXTRA="SavedTo=/path/file.zip" MESSAGE="Download successful"
```

ุจุฑุง ุบุฑูุนุงู ฺฉุฑุฏู:

```php
const ENABLE_LOGGING = false;
```

---

# ๐ ฺฉุฑููโุฌุงุจ

ุงุฌุฑุง ุงุณฺฉุฑูพุช ูุฑ ุณุงุนุช:

```
0 * * * * L2D_TOKEN=YOUR_TOKEN php /path/to/secure_downloader.php "https://example.com/file.zip"
```

---

# ๐งฐ ูุงุณุชโูุง ูุฌุงุฒ (ุงุฎุชุงุฑ)

ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู:

```php
const ALLOWED_HOSTS = ['example.com'];
```

ุจุฑุง ุขุฒุงุฏ ุจูุฏู:

```php
const ALLOWED_HOSTS = [];
```

---

# ๐งฉ ูพุดโูุงุฒูุง

- PHP 7.4 ุง ุจุงูุงุชุฑ  
- ูุนุงู ุจูุฏู cURL  
- ูุนุงู ุจูุฏู SSL  
- ุฏุณุชุฑุณ ููุดุชู ุฑู ูพูุดู Downloads  

---

# ๐ ูุงุณูุณ  
ุงู ูพุฑูฺู ุขุฒุงุฏ ุงุณุช. ูพุดููุงุฏ: MIT License.

---

# โญ ุญูุงุช  
ุงฺฏุฑ ุงู ูพุฑูฺู ุจุฑุง ุดูุง ููุฏ ุจูุฏุ ูุทูุงู โญ ุจุฏู.
